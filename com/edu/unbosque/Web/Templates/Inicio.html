{% extends 'Navegacion.html' %}
{% block estilos%}
#cardLogin{
margin-right:100px;
margin-left:auto;
margin-top:80px;
border-radius:20px;
border:none;
box-shadow: 2px 2px #B7E2E2;
}
body{
color:#442849;
}

#cardRegistro{
margin-left:auto;
border-radius:20px;
border: none;
box-shadow: 2px 2px #B7E2E2;
}

.ocultar{
    visibility: hidden;
}

.mostrar{
    visibility: visible;
}

{% endblock%}


{% block content %}


<div  style="margin-top:20px;margin-left:100px;">
        <h1>Bienvenido a FourPaws</h1>
    </div>
<div class="container" style="margin-right:15px;">

    <div id="cardLogin" class="card col-md-3">
        <form method="POST" action="/inicio" onsubmit="return validarCamposLogin();">
            <div class="card-body">
                <div class="col-md-12">
                    <div class="col-form-label">
                        <i class="fas fa-paw"></i> Usuario
                    </div>
                    <input id="usuario" type="text" name="usuario" class="form-control"
                           style="border-radius:10px;border:none;background-color:#EFF7F6;"
                           placeholder="Correo Electrónico"/>
                </div>
                <div class="col-md-12">
                    <div class="col-form-label">
                        <i class="fas fa-unlock-alt"></i> Contraseña
                    </div>
                    <input id="password" type="password" name="password" class="form-control"
                           style="border-radius:10px;border:none;background-color:#EFF7F6;" placeholder="Contraseña"/>
                </div>
                <div class="text-center" style="margin-top:20px;">
                    <div class="col-md-12">
                        <input id="inicioSesion" type="submit" class="btn text-white" style="border-radius:10px;background-color:#442849;"
                               value="Iniciar Sesión"/>
                    </div>
                    <div style="margin-top:10px;">¿Aún no tienes un usuario?</div>
                    <span>Registrate <input id="botonRegistroAqui"
                                            style="border:none;background-color:white;color:blue;" type="button"
                                            value="aquí"></input></span>
                </div>
            </div>

        </form>
    </div>

    <div id="cardRegistro" class="card col-md-7 ocultar">
        <form method="POST" action="/Registrar" onsubmit="return validarCamposRegistro();">

            <div class="card-body row container">
                <h4>Registrate</h4>
                <hr/>
                <div class="col-md-4">
                    <div class="col-form-label">
                        <i class="fas fa-user"></i> Tipo de Usuario <span class="text-danger">*</span>
                    </div>
                    <select id="tipoUsuario" name="tipoUsuario" class="form-control">
                        <option value="2" label="Cliente"></option>
                        <option value="1" label="Veterinaria"></option>
                    </select>

                </div>

                <div class="col-md-4">
                     <div class="col-form-label">
                        <i class="fas fa-id-card-alt"></i> Tipo Documento <span class="text-danger">*</span>
                    </div>
                    <select id="tipoDoc" name="tipoDoc" class="form-control">
                        <option value="1" label="CC"></option>
                        <option value="2" label="NIT"></option>
                    </select>
                </div>

                <div class="col-md-4">
                    <div class="col-form-label">
                        <i class="fas fa-id-card-alt"></i> Número <span class="text-danger">*</span>
                    </div>
                    <input id="numeroDoc" name="numeroDoc" type="text" class="form-control"
                           style="border-radius:10px;border:none;background-color:#EFF7F6;"
                           placeholder="N° de documento"/>
                </div>

                <div class="col-md-12">
                    <div class="col-form-label">
                        <i class="fas fa-user"></i> Nombres <span class="text-danger">*</span>
                    </div>
                    <input id="nombre" name="nombre" type="text" name="nombre" class="form-control"
                           style="border-radius:10px;border:none;background-color:#EFF7F6;"
                           placeholder="Nombres y apellidos"/>
                </div>

                <div class="col-md-4">
                    <div class="col-form-label">
                        <i class="fas fa-mobile-alt"></i> Teléfono <span class="text-danger">*</span>
                    </div>
                    <input id="telefono" name="telefono" type="text" class="form-control"
                           style="border-radius:10px;border:none;background-color:#EFF7F6;"
                           placeholder="Teléfono fijo o celular"/>
                </div>

                <div class="col-md-8">
                    <div class="col-form-label">
                        <i class="fas fa-map-marker-alt"></i> Dirección <span class="text-danger">*</span>
                    </div>
                    <input id="direccion" name="direccion" type="text" class="form-control"
                           style="border-radius:10px;border:none;background-color:#EFF7F6;"
                           placeholder="Ingresa dirección"/>
                </div>

                <div class="col-md-3">
                    <div class="col-form-label">
                        <i class="fas fa-map-marker-alt"></i> Localidad <span class="text-danger">*</span>
                    </div>
                    <input id="localidad" name="localidad" type="text" class="form-control"
                           style="border-radius:10px;border:none;background-color:#EFF7F6;"
                           placeholder="Localidad"/>
                </div>

                <div class="col-md-3">
                    <div class="col-form-label">
                        <i class="fas fa-map-marker-alt"></i> Barrio <span class="text-danger">*</span>
                    </div>
                    <input id="barrio" name="barrio" type="text" class="form-control"
                           style="border-radius:10px;border:none;background-color:#EFF7F6;"
                           placeholder="Barrio"/>
                </div>

                <div class="col-md-6">
                    <div class="col-form-label">
                        <i class="fas fa-envelope"></i> Correo electrónico <span class="text-danger">*</span>
                    </div>
                    <input id="email" name="email" type="text" class="form-control"
                           style="border-radius:10px;border:none;background-color:#EFF7F6;"
                           placeholder="Correo Electrónico"/>
                </div>

                <div class="col-md-6">
                    <div class="col-form-label">
                        <i class="fas fa-lock"></i> Contraseña <span class="text-danger">*</span>
                    </div>
                    <input id="claveNueva" name="claveNueva" type="password" class="form-control"
                           style="border-radius:10px;border:none;background-color:#EFF7F6;"
                           placeholder="Nueva contraseña"/>
                </div>


                <div class="col-md-6">
                    <div class="col-form-label">
                        <i class="fas fa-lock"></i> Confirme contraseña <span class="text-danger">*</span>
                    </div>
                    <input id="confirmarClaveNueva" name="confirmarClaveNueva" type="password" class="form-control"
                           style="border-radius:10px;border:none;background-color:#EFF7F6;"
                           placeholder="Confirma contraseña"/>
                </div>


                <div class="text-center" style="margin-top:20px;">
                    <div class="col-md-12">
                        <input type="submit" class="btn text-white" style="border-radius:10px;background-color:#442849;"
                               value="Registrarse"/>
                    </div>
                    <div style="margin-top:10px;">¿Ya tienes un usuario?</div>
                    <span>Inicia sesión <input id="botonInicioAqui"
                                               style="border:none;background-color:white;color:blue;" type="button"
                                               value="aquí"></input></span>
                </div>
            </div>

        </form>
    </div>


</div>


{% endblock %}

{%block scripts%}
<script>
           $(document).ready(function (){
             $('#cardRegistro').fadeOut(0);
           });

        function validarCamposLogin(){
            let usuario = document.getElementById('usuario').value;
            let password = document.getElementById('password').value;
            if(usuario == ''){
              mostrarMensajeError('Ingrese usuario','Debe ingresar un usuario');
              return false;
            } else if ( password == ''){
                mostrarMensajeError('Ingrese contraseña','Debe ingresar una contraseña');
                return false;
           }else{
            return true;
           }
        }


        function validarCamposRegistro(){
            let tipoUsuario  = document.getElementById('tipoUsuario').value;
            let tipoDocumento = document.getElementById('tipoDoc').value;
            let numeroDoc = document.getElementById('numeroDoc').value;
            let nombre =  document.getElementById('nombre').value;
            let telefono = document.getElementById('telefono').value;
            let direccion = document.getElementById('direccion').value;
            let localidad = document.getElementById('localidad').value;
            let barrio = document.getElementById('barrio').value;
            let email = document.getElementById('email').value;
            let password = document.getElementById('claveNueva').value;
            let confirmPassword = document.getElementById('confirmarClaveNueva').value;

            if(tipoUsuario == '' || tipoDocumento == '' || numeroDoc == '' || nombre == '' || telefono == ''
            || direccion == '' || localidad == '' || barrio == '' || email == '' || password == '' ||
            confirmPassword == ''){
                mostrarMensajeError('Faltan campos','Debe ingresar todos los campos');
                return false;
            }else if( password != confirmPassword){
                mostrarMensajeError('Validación de contraseña incorrecta','La contraseña ingresada no es la misma en los dos campos');
                return false;
            }else{
                return true;
            }

        }



         $('#botonRegistroAqui').click(function (){
                $('#cardLogin').fadeOut(300);

                $('#cardLogin').promise().done(function(){
                    $('#cardRegistro').addClass("mostrar");
                    $('#cardRegistro').fadeIn(300);
                })
         })

         $('#botonInicioAqui').click(function (){
                $('#cardRegistro').fadeOut(300);

                $('#cardRegistro').promise().done(function(){
                    $('#cardLogin').fadeIn(300);
                })
         })

        function mostrarMensajeError(titulo,mensaje){
            swal.fire({
            title: titulo,
            text: mensaje,
            icon:"error",
            closeOnConfirm: false
            });

        }





</script>


{%endblock%}


